---
filename: 2019-12-07-也來資產配置算了-四--再平衡的不同做法.md
layout: post
title: 也來資產配置算了（四）：再平衡的不同做法
tags: 投資想法
date: 2019-12-07
comments: true
---

![]({{ site.baseurl }}/images/20191207-1.jpeg)  
在 [上一篇]({{ site.baseurl }}/%E4%B9%9F%E4%BE%86%E8%B3%87%E7%94%A2%E9%85%8D%E7%BD%AE%E7%AE%97%E4%BA%86-%E4%B8%89-%E6%89%93%E7%AE%97%E9%80%B2%E8%A1%8C%E7%94%9A%E9%BA%BC%E8%B3%87%E7%94%A2%E9%85%8D%E7%BD%AE%E7%B5%84%E5%90%88/) 回答了打算進行甚麼資產配置組合後，這篇延伸篇打算來聊聊我認知不同的再平衡的做法。這裡可以分為三個維度，分別是*再平衡的時機*、*比例的配置* 以及 *量度比例配置的方法*，而不同的再平衡的方案都是根據這三個維度的組合組成。

## > 再平衡的時機

這個應該最好懂，就是決定再平衡的時機。這裡大概有兩種做法。

第一個就是*定時再平衡*。這個就是在以前的篇章裡使用的方法，就是每隔一個固定的時間把資產按某個比例再平衡一次，這個比例就是另外兩個維度中決定的，例如是固定的比例。這裡的固定時間可以是一年、可以是半年、也可以是每兩個月又或是一個月，不同的資產組合和比例配置的方法也會不同。

第二個方法就是*自定再平衡的時機*。通常也是為組合裡的每一種資產自定一個固定的比例範圍，任何一款在組合裡的資產超出了自己的比例便需要把整個組合進行再平衡。這裡有兩種做法。

第一種就是如果我的組合裡有兩種資產 甲 和 乙，他們的比例各自為50%。那麼我可以定下只要其中一個資產的比例少於40%或是多於60%的話便進行一次再平衡。（這個例子裡其中一種資產少於40% 的話，另一種資產必然會多於 60% ，但是在三種或以上資產的組合裡便不是必然）

第二種就是如果我的組合裡有兩種資產 甲 和 乙，他們的比例各自為30% 和70%。而我定下再平衡的條件是如果他們的比例超出了自己的原本配置的三成便會進行再平衡（這裡的三成是一個假設數字）。這樣的話只是達成以下其中一個條件便要進行再平衡：

* 甲的比例低於 30% x 0.7 = 21%
* 甲的比例高於 30% x 1.3 = 39%
* 乙的比例低於 70% x 0.7 = 49%
* 乙的比例高於 70% x 1.3 = 91%

## > 比例配置的方法

這裡有6個做法。

第一種就是 *1/n* 的做法，也就是假如組合裡有5種資產，那麼各自的比例都是20% 。事實上，這個做法雖然簡單，但也效果很有可能比以下其他的比例配置方法為好。（參考資料：[Naive Diversification Vs. Optimization](https://www.investopedia.com/articles/stocks/11/naive-diversification-vs-optimization.asp)）

第二種就是 *自定義固定比例* ，也就是自己決定一每種資產各自的固定比例，例如 資產甲 佔 50% 、資產乙佔 25%、資產丙佔25% 。留意以上兩個做法的比例都是固定的，也就是說不管未來會變成如何，每一次再平衡的比例都必須是這個定下的固定比例。

第三種和第四種開始複雜了。

第三種是名為 *Inverse volatility* 的做法，也就是在再平衡的日子計算出每款資產的 波動率（[Volatility](https://en.m.wikipedia.org/wiki/Volatility_(finance))），然後再平衡的比例是根據每款資產的波動率來決定。波動率越高，配置的比例越低，從而令每一種資產都波動都相等。

假設有三種資產 甲、乙 和 丙，它們的波動率分別是0.1、0.2 和0.3，那麼它們的配置比例分別是55% 、27% 和18%，因為 0.1 x 55% 等於 0.2 x 27% 等於 0.3 x 18%。也就是說以這個比例的配置，每一種資產的波動都會變得一樣。

第四種是名為 *Risk Parity（風險平價）* 的做法，做法和第三種十分相似，只是要量度的不是波動率（Volatility），而是變異率（[Variance](https://en.m.wikipedia.org/wiki/Variance)）。所以這種的配置目的是使每一種資產都變異率都相等。

第五種是名為 *Minimum Variance* 的做法。這需要一些 [投資組合理論](https://www.investopedia.com/terms/m/modernportfoliotheory.asp) 的知識。而做法就是在再平衡的一天根據各資產的回報率、波動率和資產之間的相關性，計算出每種資產的比例，從而使得整個投資組合有最低的波動率。

第六種是名為 *Max Sharpe Ratio* 的做法。這個方法和第五種做法很相似，就是根據 [投資組合理論](https://www.investopedia.com/terms/m/modernportfoliotheory.asp) ，在再平衡的一天根據各資產的回報率、波動率和資產之間的相關性（[Correlation Coefficient](https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/correlation-coefficient-formula/)），計算出每種資產的比例，從而使得整個投資組合有最低的 Sharpe Ratio，也就是（組合回報 減去 無風險資產回報） / 波動率最高比率。

## > 量度比例配署的方法

在第二個維度的第三至第六個方法都需要計算資產各自的回報、波動率、變異率和相關性等資料，那麼使用甚麼時間點來計算這些資料也會對組合比例有很大的影響。

第一種做法是根據歷史比例決定一個固定的比例。這個做法比較省時。

而第二種做法是根據最近xx天的數據來計算。例如今天進行再平衡的話，波動率的計算方法是根據過去 20 個交易日的資料來計算。可能你會覺得這樣做的計算方法很不準確，但是一個名為 [Volatility Clustering](https://en.m.wikipedia.org/wiki/Volatility_clustering) 的現象告訴我們， 波動具有很強的持續性,，亦即是大波動多數伴隨著大波動，小波動多數緊跟著小波動。個人的 Back testing 經驗告訴我，和減少波動率 / 變異率有關的做法（也就是 Minimum Volatility / Risk Parity / Minimum Variance 方法）中並且資產相關性為負數的資產中，波動率的計算方法使用比較短期（例如過去一個月至兩個月的數據來計算，但不要少於一個月）效果會比較好。

明白了這些後，使用 [Portfolio Visualizer 來調節 Market Timing Model](https://www.portfoliovisualizer.com/test-market-timing-model) 應該沒有難度啦 ;)

{% include_relative index/asset_allocation.md %}